<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ScrollTop TEMP</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ********************
    GOOGLE FONTS
    ******************** -->
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Lato|Open+Sans|Open+Sans+Condensed:300|Permanent+Marker"
          rel="stylesheet">

    <!-- ********************
    JQUERY
    ******************** -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <!-- ********************
    BOOTSTRAP
    ******************** -->

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>


    <!-- ********************
    Hovers
    ******************** -->

    <!--<link rel="stylesheet" href="assets/css/Hover-master/css/hover.css">-->

    <!-- ********************
    OWN STYLES
    ******************** -->

    <!-- --- STYLE MAIN --- -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>


<div id="container-one" class="container-whole height-200">
    <h1 class="float-right"><a id="scrollTopFunctionOne">ScrollTop Function One</a></h1>
    <h1 class="float-right"><a id="scrollTopFunctionTwo">ScrollTop Function Two</a></h1>

    <h1>container one:
        <br>H: 200
        <br>T: 200
    </h1>
</div>

<div id="container-content-one" class="container-content-one">

    <div id="container-two" class="container-whole height-200">
        <h1>CONTENT ONE
            <br>container two:
            <br>H: 200
            <br>T: 400
        </h1>
    </div>

    <div id="container-three" class="container-whole height-200">
        <h1>container three:
            <br>H: 200
            <br>T: 600</h1>
    </div>

    <div id="container-four" class="container-whole height-200">
        <h1>container four:
            <br>H: 200
            <br>T: 800
        </h1>
    </div>

    <div id="container-five" class="container-whole height-200">
        <h1>container five:
            <br>H: 200
            <br>T: 1000</h1>
    </div>

    <div id="container-six" class="container-whole height-200">
        <h1>container six:
            <br>H: 200
            <br>T: 1200</h1>
    </div>

    <div id="container-seven" class="container-whole height-200">
        <h1>container seven:
            <br>H: 200
            <br>T: 1400</h1>
    </div>

    <div id="container-eight" class="container-whole height-200">
        <h1>container eight:
            <br>H: 200
            <br>T: 1600</h1>
    </div>

    <div id="container-nine" class="container-whole height-200">
        <h1>container nine:
            <br>H: 200
            <br>T: 1800</h1>
    </div>

    <div id="container-ten" class="container-whole height-200">
        <h1>container ten:
            <br>H: 200
            <br>T: 2000</h1>
    </div>

</div>
<!--end content-one -->


<div id="container-content-two" class="container-content-one">

    <div id="content2-container-two" class="container-whole height-200">
        <h1>CONTENT TWO
            <br>container two:
            <br>H: 200
            <br>T: 400
        </h1>
    </div>

    <div id="content2-container-three" class="container-whole height-200">
        <h1>container three:
            <br>H: 200
            <br>T: 600</h1>
    </div>

    <div id="content2-container-four" class="container-whole height-200">
        <h1>container four:
            <br>H: 200
            <br>T: 800
        </h1>
    </div>

    <div id="content2-container-five" class="container-whole height-200">
        <h1>container five:
            <br>H: 200
            <br>T: 1000</h1>
    </div>

    <!--<div id="content2-container-six" class="container-whole height-200">-->
        <!--<h1>container six:-->
            <!--<br>H: 200-->
            <!--<br>T: 1200</h1>-->
    <!--</div>-->

    <!--<div id="content2-container-seven" class="container-whole height-200">-->
        <!--<h1>container seven:-->
            <!--<br>H: 200-->
            <!--<br>T: 1400</h1>-->
    <!--</div>-->

    <!--<div id="content2-container-eight" class="container-whole height-200">-->
        <!--<h1>container eight:-->
            <!--<br>H: 200-->
            <!--<br>T: 1600</h1>-->
    <!--</div>-->

    <!--<div id="content2-container-nine" class="container-whole height-200">-->
        <!--<h1>container nine:-->
            <!--<br>H: 200-->
            <!--<br>T: 1800</h1>-->
    <!--</div>-->

    <!--<div id="content2-container-ten" class="container-whole height-200">-->
        <!--<h1>container ten:-->
            <!--<br>H: 200-->
            <!--<br>T: 2000</h1>-->
    <!--</div>-->

</div>
<!--end content-one -->

<div id="footer" class="footer container-whole height-800">
    <h1>FOOTER:
        <br>H: 800
        <br>T: N/A</h1>

    <div id="footer-pt2" class="footer container-whole height-800">

    </div>
</div>


<div id="stem" class="stem">
    <div id="measure" class="measure"></div>
    <div id="measure2" class="measure2"></div>
</div>

</body>

<script>



    var windowHeight = $(window).height();   // returns height of browser viewport

    console.log("Window height =" + windowHeight);

    var pageState = "";

    console.log("window height =" + windowHeight);

    var halfWindowHeight = windowHeight / 2;

    console.log("half window height =" + halfWindowHeight);

//    $(document).ready(function() {
//        initScrollTop();
//    });

    $(window).resize(function () {
        var windowHeight = $(window).height();
        console.log("new window height = " + windowHeight);

        var halfWindowHeight = windowHeight / 2;
        console.log("new window half height = " + halfWindowHeight);

        this.windowHeight = windowHeight;


        initScrollTop();
    });

    $("#scrollTopFunctionOne").click(function () {
        $("#container-content-two").hide();
        $("#container-content-one").show();
        
        pageState = "contentOne";

        initScrollTop();
    });

    $("#scrollTopFunctionTwo").click(function () {
        $("#container-content-one").hide();
        $("#container-content-two").show();

        pageState = "contentTwo";

        initScrollTop();
    });

    function initScrollTop() {


        console.log("pageState=" + pageState);

        if (pageState == "contentOne") {

            var containerThreePositionTop = $("#container-three").position().top;

            console.log("Container Three Pos Top =" + containerThreePositionTop);

            var containerFourPositionTop = $("#container-four").position().top;

            console.log("Container Four Pos Top =" + containerFourPositionTop);



            $(window).scroll(function () {

                var scrollTop = $(document).scrollTop();
                var scrollTopPlusHalf = scrollTop + windowHeight / 2;

                if (scrollTopPlusHalf >= containerThreePositionTop) {
                    $("#container-three").addClass("red");
                    $("#container-three").removeClass("blue");
                }
                else {
                    $("#container-three").removeClass("red");
                }

                if (scrollTopPlusHalf >= containerFourPositionTop) {
                    $("#container-four").addClass("red");
                    $("#container-four").removeClass("blue");
                }
                else {
                    $("#container-four").removeClass("red");
                }

            });
        }

        else if (pageState == "contentTwo") {

//            DO SOMETHING DIFFERENT
            var content2containerThreePositionTop = $("#content2-container-three").position().top;

            console.log("Container Three Pos Top =" + content2containerThreePositionTop);

            var content2containerFourPositionTop = $("#content2-container-four").position().top;

            console.log("Container Four Pos Top =" + content2containerFourPositionTop);

            $(window).scroll(function () {

                var scrollTop = $(document).scrollTop();
                var scrollTopPlusHalf = scrollTop + windowHeight / 2;

                if (scrollTopPlusHalf > content2containerThreePositionTop) {
                    $("#content2-container-three").removeClass("red");
                    $("#content2-container-three").addClass("blue");
                }
                else {
                    $("#content2-container-three").removeClass("blue");
                }

                if (scrollTopPlusHalf > content2containerFourPositionTop) {
                    $("#content2-container-three").removeClass("red");
                    $("#content2-container-four").addClass("blue");
                }
                else {
                    $("#content2-container-four").removeClass("blue");
                }

            });
        }
    }











    $("#measure2").animate({height: halfWindowHeight});
</script>
</html>